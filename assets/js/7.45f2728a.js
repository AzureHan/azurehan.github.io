(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{180:function(_,e,v){"use strict";v.r(e);var o=v(0),t=Object(o.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var _=this,e=_.$createElement,v=_._self._c||e;return v("div",{staticClass:"content"},[v("h1",{attrs:{id:"在-ubuntu-安装-lnmp-1-4-使用-laravel-5-4"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#在-ubuntu-安装-lnmp-1-4-使用-laravel-5-4","aria-hidden":"true"}},[_._v("#")]),_._v(" 在 Ubuntu 安装 LNMP 1.4 使用 Laravel 5.4")]),_._v(" "),v("blockquote",[v("p",[_._v("日期：2018-02-26")])]),_._v(" "),v("h3",{attrs:{id:"配置环境"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#配置环境","aria-hidden":"true"}},[_._v("#")]),_._v(" 配置环境")]),_._v(" "),v("p",[_._v("进入目录 "),v("code",[_._v("~/lnmp1.4-full/src")])]),_._v(" "),v("p",[_._v("解压已经安装的 PHP 版本 "),v("code",[_._v("tar -xjf php-7.1.7.tar.bz2")])]),_._v(" "),v("p",[_._v("进入拓展目录 "),v("code",[_._v("~/lnmp1.4-full/src/php-7.1.7/ext/fileinfo")])]),_._v(" "),v("p",[_._v("在当前目录依次执行")]),_._v(" "),v("p",[v("code",[_._v("/usr/local/php/bin/phpize")])]),_._v(" "),v("p",[v("code",[_._v("./configure --with-php-config=/usr/local/php/bin/php-config")])]),_._v(" "),v("p",[v("code",[_._v("make && make install")])]),_._v(" "),v("p",[_._v("进入目录 "),v("code",[_._v("/usr/local/php/lib/php/extensions")])]),_._v(" "),v("p",[_._v("进入类似目录 "),v("code",[_._v("no-debug-non-zts-20160303")])]),_._v(" "),v("p",[_._v("检查有无文件 "),v("code",[_._v("fileinfo.so")])]),_._v(" "),v("p",[_._v("进入文件 "),v("code",[_._v("/usr/local/php/etc/php.ini")])]),_._v(" "),v("p",[_._v("查找 "),v("code",[_._v("extension_dir")]),_._v(" 再下面一行添加上 "),v("code",[_._v('extension = "fileinfo.so"')])]),_._v(" "),v("p",[_._v("查找 "),v("code",[_._v("disable_function")]),_._v(" 删除 "),v("code",[_._v("proc_open")]),_._v(" , "),v("code",[_._v("proc_get_status")])]),_._v(" "),v("p",[_._v("退出并保存配置文件")]),_._v(" "),v("p",[_._v("进入文件 "),v("code",[_._v("/usr/local/nginx/conf/fastcgi.conf")])]),_._v(" "),v("p",[_._v("使用 "),v("code",[_._v("#")]),_._v(" 注释此行 "),v("code",[_._v('fastcgi_param PHP_ADMIN_VALUE "open_basedir=$document_root/:/tmp/:/proc/";')])]),_._v(" "),v("p",[_._v("退出并保存配置文件")]),_._v(" "),v("p",[_._v("进入虚拟主机配置文件 "),v("code",[_._v("/usr/local/nginx/conf/vhost/<域名>.conf")])]),_._v(" "),v("p",[_._v("注意网站根目录应为 "),v("code",[_._v("root /home/wwwroot/<域名>/public;")])]),_._v(" "),v("p",[_._v("注释创建虚拟机时选的 "),v("code",[_._v("other")]),_._v(" URL 重写配置，并写上 Laravel 官方提供的 URL 重写规则")]),_._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[_._v("#include other.conf;\nlocation / {\n    try_files $uri $uri/ /index.php?$query_string;\n}\n")])])]),v("p",[_._v("退出并保存配置文件")]),_._v(" "),v("p",[_._v("重启 LNMP "),v("code",[_._v("lnmp restart")])]),_._v(" "),v("h3",{attrs:{id:"获取文件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#获取文件","aria-hidden":"true"}},[_._v("#")]),_._v(" 获取文件")]),_._v(" "),v("p",[_._v("进入目录 "),v("code",[_._v("/home/wwwroot")])]),_._v(" "),v("p",[_._v("执行命令 "),v("code",[_._v("git clone git@github.com:<用户名>/<仓库名>.git")])]),_._v(" "),v("p",[_._v("复制文件到网站目录")]),_._v(" "),v("p",[v("code",[_._v("cp -rf <仓库名>/* <域名>/")])]),_._v(" "),v("p",[_._v("进入网站目录 "),v("code",[_._v("cd <域名>")])]),_._v(" "),v("p",[_._v("赋予 Laravel 项目的 storage 目录权限 "),v("code",[_._v("chown -R www:www storage/")])]),_._v(" "),v("p",[_._v("安装依赖 执行 "),v("code",[_._v("composer install")])]),_._v(" "),v("h3",{attrs:{id:"网站维护"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#网站维护","aria-hidden":"true"}},[_._v("#")]),_._v(" 网站维护")])])}],!1,null,null,null);t.options.__file="Install-LNMP-on-Ubunt-for-Laravel54.md";e.default=t.exports}}]);