(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{169:function(_,e,v){"use strict";v.r(e);var a=v(0),t=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var _=this,e=_.$createElement,v=_._self._c||e;return v("div",{staticClass:"content"},[v("h1",{attrs:{id:"tcp-协议"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#tcp-协议","aria-hidden":"true"}},[_._v("#")]),_._v(" TCP 协议")]),_._v(" "),v("h2",{attrs:{id:"_1-tcp-连接"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-tcp-连接","aria-hidden":"true"}},[_._v("#")]),_._v(" 1. TCP 连接")]),_._v(" "),v("h3",{attrs:{id:"_1-1-建立连接"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-建立连接","aria-hidden":"true"}},[_._v("#")]),_._v(" 1.1 建立连接")]),_._v(" "),v("p",[_._v("双方三次握手建立连接 :")]),_._v(" "),v("ol",[v("li",[v("p",[_._v("客户端发送数据包 "),v("code",[_._v("[ SYN = 1 , seq = x ]")]),_._v(" 并进入 "),v("code",[_._v("SYN-SENT")]),_._v(" 状态")])]),_._v(" "),v("li",[v("p",[v("code",[_._v("LISTEN")]),_._v(" 状态的服务器接收到数据包 , 返回数据包 "),v("code",[_._v("[ SYN = 1 , ACK = 1 , seq = y , ack = x ]")]),_._v(" 并进入 "),v("code",[_._v("SYN-REVD")]),_._v(" 状态")])]),_._v(" "),v("li",[v("p",[_._v("客户端接收到确认数据包 , 发送数据包 "),v("code",[_._v("[ ACK = 1 , seq = x + 1 , ack = y + 1 ]")]),_._v(" 并进入 "),v("code",[_._v("ESTABLISHED")]),_._v(" 状态 , 服务器接收到这个数据包也进入 "),v("code",[_._v("ESTABLISHED")]),_._v(" 状态 .")])])]),_._v(" "),v("blockquote",[v("p",[v("code",[_._v("seq")]),_._v(" = sequence number ( 序列号 )")]),_._v(" "),v("p",[v("code",[_._v("ack")]),_._v(" = acknowledgement ( 确认号 )")]),_._v(" "),v("p",[v("code",[_._v("ESTABLISHED")]),_._v(" = 既定 ( 是指已经确定 )")])]),_._v(" "),v("p",[_._v("简单来说 : 客户端请求服务器建立连接、服务器同意请求并要求客户端确认、客户端确认进行连接。")]),_._v(" "),v("h3",{attrs:{id:"_1-2-传输数据"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-传输数据","aria-hidden":"true"}},[_._v("#")]),_._v(" 1.2 传输数据")]),_._v(" "),v("h4",{attrs:{id:"_1-2-1-滑动窗口以及拥塞控制"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-滑动窗口以及拥塞控制","aria-hidden":"true"}},[_._v("#")]),_._v(" 1.2.1 滑动窗口以及拥塞控制")]),_._v(" "),v("p",[_._v("TCP协议作为一个可靠的面向流的传输协议，其可靠性和流量控制由滑动窗口协议保证，而拥塞控制则由控制窗口结合一系列的控制算法实现。")]),_._v(" "),v("h3",{attrs:{id:"_1-3-断开连接"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-断开连接","aria-hidden":"true"}},[_._v("#")]),_._v(" 1.3 断开连接")]),_._v(" "),v("p",[_._v("双方四次挥手断开连接 :")]),_._v(" "),v("ol",[v("li",[v("p",[_._v("请求方发送数据包 "),v("code",[_._v("[ FIN = 1 , seq = u ]")]),_._v(" 进入 "),v("code",[_._v("FIN-WAIT-1")]),_._v(" 状态")])]),_._v(" "),v("li",[v("p",[_._v("被请求方接收到数据包并返回确认数据包 "),v("code",[_._v("[ ACK = 1 , seq = v , ack = u + 1 ]")]),_._v(" ，请求方进入 "),v("code",[_._v("FIN-WAIT-2")]),_._v(" 状态")])]),_._v(" "),v("li",[v("p",[_._v("被请求方发送数据包 "),v("code",[_._v("[ FIN = 1 , ACK = 1 , seq = w , ack = u + 1 ]")]),_._v(" 并且最终中断连接")])]),_._v(" "),v("li",[v("p",[_._v("请求方接收到数据包并返回确认数据包 "),v("code",[_._v("[ ACK = 1 , seq = u + 1 , ack = w + 1 ]")]),_._v(" 并且进入 "),v("code",[_._v("TIME-WAIT")]),_._v(" 状态、等待 "),v("code",[_._v("2MSAL")]),_._v(" 时间后最终中断连接")])])]),_._v(" "),v("p",[_._v("简单来说 : 请求方 ( 不需要发送数据 ) 请求断开连接、被请求方同意断开请求、然后被请求方也表示 ( 不需要发送数据 ) 最终断开连接、请求方再请求试探被请求方、没有回应也就确认最终断开。")])])}],!1,null,null,null);t.options.__file="TCP.md";e.default=t.exports}}]);